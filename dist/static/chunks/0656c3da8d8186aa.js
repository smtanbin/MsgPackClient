(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7529,60905,e=>{"use strict";function t(e){return`${e<0?"-":""}0x${Math.abs(e).toString(16).padStart(2,"0")}`}var i=e.i(39004),s=e.i(63672),r=e.i(34243),n=e.i(8393),o=e.i(1316);let a="array",h="map_key",l="map_value",c=e=>{if("string"==typeof e||"number"==typeof e)return e;throw new o.DecodeError("The type of key must be string or number but "+typeof e)};class d{stack=[];stackHeadPosition=-1;get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){let t=this.getUninitializedStateFromPool();t.type=a,t.position=0,t.size=e,t.array=Array(e)}pushMapState(e){let t=this.getUninitializedStateFromPool();t.type=h,t.readCount=0,t.size=e,t.map={}}getUninitializedStateFromPool(){return this.stackHeadPosition++,this.stackHeadPosition===this.stack.length&&this.stack.push({type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null}),this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw Error("Invalid stack state. Released state is not on top of the stack.");e.type===a&&(e.size=0,e.array=void 0,e.position=0,e.type=void 0),(e.type===h||e.type===l)&&(e.size=0,e.map=void 0,e.readCount=0,e.type=void 0),this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}let f=new DataView(new ArrayBuffer(0)),u=new Uint8Array(f.buffer);try{f.getInt8(0)}catch(e){if(!(e instanceof RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}let p=RangeError("Insufficient data"),x=new class{hit=0;miss=0;caches;maxKeyLength;maxLengthPerKey;constructor(e=16,t=16){this.maxKeyLength=e,this.maxLengthPerKey=t,this.caches=[];for(let e=0;e<this.maxKeyLength;e++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,t,i){let s=this.caches[i-1];e:for(let r of s){let s=r.bytes;for(let r=0;r<i;r++)if(s[r]!==e[t+r])continue e;return r.str}return null}store(e,t){let i=this.caches[e.length-1],s={bytes:e,str:t};i.length>=this.maxLengthPerKey?i[Math.random()*i.length|0]=s:i.push(s)}decode(e,t,i){let s=this.find(e,t,i);if(null!=s)return this.hit++,s;this.miss++;let n=(0,r.utf8DecodeJs)(e,t,i),o=Uint8Array.prototype.slice.call(e,t,t+i);return this.store(o,n),n}};class g{extensionCodec;context;useBigInt64;rawStrings;maxStrLength;maxBinLength;maxArrayLength;maxMapLength;maxExtLength;keyDecoder;mapKeyConverter;totalPos=0;pos=0;view=f;bytes=u;headByte=-1;stack=new d;entered=!1;constructor(e){this.extensionCodec=e?.extensionCodec??i.ExtensionCodec.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??s.UINT32_MAX,this.maxBinLength=e?.maxBinLength??s.UINT32_MAX,this.maxArrayLength=e?.maxArrayLength??s.UINT32_MAX,this.maxMapLength=e?.maxMapLength??s.UINT32_MAX,this.maxExtLength=e?.maxExtLength??s.UINT32_MAX,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:x,this.mapKeyConverter=e?.mapKeyConverter??c}clone(){return new g({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(e){let t=(0,n.ensureUint8Array)(e);this.bytes=t,this.view=new DataView(t.buffer,t.byteOffset,t.byteLength),this.pos=0}appendBuffer(e){if(-1!==this.headByte||this.hasRemaining(1)){let t=this.bytes.subarray(this.pos),i=(0,n.ensureUint8Array)(e),s=new Uint8Array(t.length+i.length);s.set(t),s.set(i,t.length),this.setBuffer(s)}else this.setBuffer(e)}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){let{view:t,pos:i}=this;return RangeError(`Extra ${t.byteLength-i} of ${t.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);let t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){let t=this.clone();yield*t.decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{let i;this.entered=!0;let s=!1;for await(let t of e){if(s)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(t);try{i=this.doDecodeSync(),s=!0}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}if(s){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return i}let{headByte:r,pos:n,totalPos:o}=this;throw RangeError(`Insufficient data in parsing ${t(r)} at ${o} (${n} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async *decodeMultiAsync(e,t){if(this.entered){let i=this.clone();yield*i.decodeMultiAsync(e,t);return}try{this.entered=!0;let i=t,s=-1;for await(let r of e){if(t&&0===s)throw this.createExtraByteError(this.totalPos);this.appendBuffer(r),i&&(s=this.readArraySize(),i=!1,this.complete());try{for(;yield this.doDecodeSync(),0!=--s;);}catch(e){if(!(e instanceof RangeError))throw e}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){t:for(;;){let e,i=this.readHeadByte();if(i>=224)e=i-256;else if(i<192)if(i<128)e=i;else if(i<144){let t=i-128;if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(i<160){let t=i-144;if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else{let t=i-160;e=this.decodeString(t,0)}else if(192===i)e=null;else if(194===i)e=!1;else if(195===i)e=!0;else if(202===i)e=this.readF32();else if(203===i)e=this.readF64();else if(204===i)e=this.readU8();else if(205===i)e=this.readU16();else if(206===i)e=this.readU32();else if(207===i)e=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===i)e=this.readI8();else if(209===i)e=this.readI16();else if(210===i)e=this.readI32();else if(211===i)e=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===i){let t=this.lookU8();e=this.decodeString(t,1)}else if(218===i){let t=this.lookU16();e=this.decodeString(t,2)}else if(219===i){let t=this.lookU32();e=this.decodeString(t,4)}else if(220===i){let t=this.readU16();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(221===i){let t=this.readU32();if(0!==t){this.pushArrayState(t),this.complete();continue}e=[]}else if(222===i){let t=this.readU16();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(223===i){let t=this.readU32();if(0!==t){this.pushMapState(t),this.complete();continue}e={}}else if(196===i){let t=this.lookU8();e=this.decodeBinary(t,1)}else if(197===i){let t=this.lookU16();e=this.decodeBinary(t,2)}else if(198===i){let t=this.lookU32();e=this.decodeBinary(t,4)}else if(212===i)e=this.decodeExtension(1,0);else if(213===i)e=this.decodeExtension(2,0);else if(214===i)e=this.decodeExtension(4,0);else if(215===i)e=this.decodeExtension(8,0);else if(216===i)e=this.decodeExtension(16,0);else if(199===i){let t=this.lookU8();e=this.decodeExtension(t,1)}else if(200===i){let t=this.lookU16();e=this.decodeExtension(t,2)}else if(201===i){let t=this.lookU32();e=this.decodeExtension(t,4)}else throw new o.DecodeError(`Unrecognized type byte: ${t(i)}`);this.complete();let s=this.stack;for(;s.length>0;){let t=s.top();if(t.type===a)if(t.array[t.position]=e,t.position++,t.position===t.size)e=t.array,s.release(t);else continue t;else if(t.type===h){if("__proto__"===e)throw new o.DecodeError("The key __proto__ is not allowed");t.key=this.mapKeyConverter(e),t.type=l;continue t}else if(t.map[t.key]=e,t.readCount++,t.readCount===t.size)e=t.map,s.release(t);else{t.key=null,t.type=h;continue t}}return e}}readHeadByte(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){let e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new o.DecodeError(`Unrecognized array type byte: ${t(e)}`)}}pushMapState(e){if(e>this.maxMapLength)throw new o.DecodeError(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new o.DecodeError(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,t){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,t):this.decodeBinary(e,t)}decodeUtf8String(e,t){let i;if(e>this.maxStrLength)throw new o.DecodeError(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+t+e)throw p;let s=this.pos+t;return i=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?this.keyDecoder.decode(this.bytes,s,e):(0,r.utf8Decode)(this.bytes,s,e),this.pos+=t+e,i}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===h}decodeBinary(e,t){if(e>this.maxBinLength)throw new o.DecodeError(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+t))throw p;let i=this.pos+t,s=this.bytes.subarray(i,i+e);return this.pos+=t+e,s}decodeExtension(e,t){if(e>this.maxExtLength)throw new o.DecodeError(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);let i=this.view.getInt8(this.pos+t),s=this.decodeBinary(e,t+1);return this.extensionCodec.decode(s,i,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){let e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){let e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){let e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){let e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){let e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){let e=(0,s.getUint64)(this.view,this.pos);return this.pos+=8,e}readI64(){let e=(0,s.getInt64)(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){let e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){let e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){let e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){let e=this.view.getFloat64(this.pos);return this.pos+=8,e}}function y(e,t){return new g(t).decode(e)}function w(e,t){return new g(t).decodeMulti(e)}e.s(["Decoder",()=>g],60905),e.s(["decode",()=>y,"decodeMulti",()=>w],7529)},25053,34243,30465,1316,63672,26585,39004,8393,59301,e=>{"use strict";function t(e){let t=e.length,i=0,s=0;for(;s<t;){let r=e.charCodeAt(s++);if((0xffffff80&r)==0){i++;continue}if((0xfffff800&r)==0)i+=2;else{if(r>=55296&&r<=56319&&s<t){let t=e.charCodeAt(s);(64512&t)==56320&&(++s,r=((1023&r)<<10)+(1023&t)+65536)}(0xffff0000&r)==0?i+=3:i+=4}}return i}let i=new TextEncoder;function s(e,t,s){if(e.length>50)i.encodeInto(e,t.subarray(s));else!function(e,t,i){let s=e.length,r=i,n=0;for(;n<s;){let i=e.charCodeAt(n++);if((0xffffff80&i)==0){t[r++]=i;continue}if((0xfffff800&i)==0)t[r++]=i>>6&31|192;else{if(i>=55296&&i<=56319&&n<s){let t=e.charCodeAt(n);(64512&t)==56320&&(++n,i=((1023&i)<<10)+(1023&t)+65536)}(0xffff0000&i)==0?t[r++]=i>>12&15|224:(t[r++]=i>>18&7|240,t[r++]=i>>12&63|128),t[r++]=i>>6&63|128}t[r++]=63&i|128}}(e,t,s)}function r(e,t,i){let s=t,r=s+i,n=[],o="";for(;s<r;){let t=e[s++];if((128&t)==0)n.push(t);else if((224&t)==192){let i=63&e[s++];n.push((31&t)<<6|i)}else if((240&t)==224){let i=63&e[s++],r=63&e[s++];n.push((31&t)<<12|i<<6|r)}else if((248&t)==240){let i=(7&t)<<18|(63&e[s++])<<12|(63&e[s++])<<6|63&e[s++];i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i)}else n.push(t);n.length>=4096&&(o+=String.fromCharCode(...n),n.length=0)}return n.length>0&&(o+=String.fromCharCode(...n)),o}let n=new TextDecoder;function o(e,t,i){let s;if(!(i>200))return r(e,t,i);return s=e.subarray(t,t+i),n.decode(s)}e.s(["utf8Count",()=>t,"utf8Decode",()=>o,"utf8DecodeJs",()=>r,"utf8Encode",()=>s],34243);class a{type;data;constructor(e,t){this.type=e,this.data=t}}e.s(["ExtData",()=>a],30465);class h extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Object.create(h.prototype)),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:h.name})}}function l(e,t,i){e.setUint32(t,i/0x100000000),e.setUint32(t+4,i)}function c(e,t,i){let s=Math.floor(i/0x100000000);e.setUint32(t,s),e.setUint32(t+4,i)}function d(e,t){return 0x100000000*e.getInt32(t)+e.getUint32(t+4)}function f(e,t){return 0x100000000*e.getUint32(t)+e.getUint32(t+4)}function u({sec:e,nsec:t}){if(e>=0&&t>=0&&e<=0x3ffffffff)if(0===t&&e<=0xffffffff){let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e),t}else{let i=e/0x100000000,s=new Uint8Array(8),r=new DataView(s.buffer);return r.setUint32(0,t<<2|3&i),r.setUint32(4,0|e),s}{let i=new Uint8Array(12),s=new DataView(i.buffer);return s.setUint32(0,t),c(s,4,e),i}}function p(e){let t=e.getTime(),i=Math.floor(t/1e3),s=(t-1e3*i)*1e6,r=Math.floor(s/1e9);return{sec:i+r,nsec:s-1e9*r}}function x(e){return e instanceof Date?u(p(e)):null}function g(e){let t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:{let e=t.getUint32(0);return{sec:(3&e)*0x100000000+t.getUint32(4),nsec:e>>>2}}case 12:return{sec:d(t,4),nsec:t.getUint32(0)};default:throw new h(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${e.length}`)}}function y(e){let t=g(e);return new Date(1e3*t.sec+t.nsec/1e6)}e.s(["DecodeError",()=>h],1316),e.s(["UINT32_MAX",0,0xffffffff,"getInt64",()=>d,"getUint64",()=>f,"setInt64",()=>c,"setUint64",()=>l],63672);let w={type:-1,encode:x,decode:y};e.s(["EXT_TIMESTAMP",0,-1,"decodeTimestampExtension",()=>y,"decodeTimestampToTimeSpec",()=>g,"encodeDateToTimeSpec",()=>p,"encodeTimeSpecToTimestamp",()=>u,"encodeTimestampExtension",()=>x,"timestampExtension",0,w],26585);class m{static defaultCodec=new m;__brand;builtInEncoders=[];builtInDecoders=[];encoders=[];decoders=[];constructor(){this.register(w)}register({type:e,encode:t,decode:i}){if(e>=0)this.encoders[e]=t,this.decoders[e]=i;else{let s=-1-e;this.builtInEncoders[s]=t,this.builtInDecoders[s]=i}}tryToEncode(e,t){for(let i=0;i<this.builtInEncoders.length;i++){let s=this.builtInEncoders[i];if(null!=s){let r=s(e,t);if(null!=r)return new a(-1-i,r)}}for(let i=0;i<this.encoders.length;i++){let s=this.encoders[i];if(null!=s){let r=s(e,t);if(null!=r)return new a(i,r)}}return e instanceof a?e:null}decode(e,t,i){let s=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return s?s(e,t,i):new a(t,e)}}function b(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}e.s(["ExtensionCodec",()=>m],39004),e.s(["ensureUint8Array",()=>b],8393);class U{extensionCodec;context;useBigInt64;maxDepth;initialBufferSize;sortKeys;forceFloat32;ignoreUndefined;forceIntegerToFloat;pos;view;bytes;entered=!1;constructor(e){this.extensionCodec=e?.extensionCodec??m.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??100,this.initialBufferSize=e?.initialBufferSize??2048,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new U({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,t){if(t>this.maxDepth)throw Error(`Too deep objects in depth ${t}`);null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.useBigInt64&&"bigint"==typeof e?this.encodeBigInt64(e):this.encodeObject(e,t)}ensureBufferSizeToWrite(e){let t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)}resizeBuffer(e){let t=new ArrayBuffer(e),i=new Uint8Array(t),s=new DataView(t);i.set(this.bytes),this.view=s,this.bytes=i}encodeNil(){this.writeU8(192)}encodeBoolean(e){!1===e?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<0x100000000?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-0x80000000?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<0x100000000)this.writeU8(219),this.writeU32(e);else throw Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){let i=t(e);this.ensureBufferSizeToWrite(5+i),this.writeStringHeader(i),s(e,this.bytes,this.pos),this.pos+=i}encodeObject(e,t){let i=this.extensionCodec.tryToEncode(e,this.context);if(null!=i)this.encodeExtension(i);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if("object"==typeof e)this.encodeMap(e,t);else throw Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){let t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<0x100000000)this.writeU8(198),this.writeU32(t);else throw Error(`Too large binary: ${t}`);let i=b(e);this.writeU8a(i)}encodeArray(e,t){let i=e.length;if(i<16)this.writeU8(144+i);else if(i<65536)this.writeU8(220),this.writeU16(i);else if(i<0x100000000)this.writeU8(221),this.writeU32(i);else throw Error(`Too large array: ${i}`);for(let i of e)this.doEncode(i,t+1)}countWithoutUndefined(e,t){let i=0;for(let s of t)void 0!==e[s]&&i++;return i}encodeMap(e,t){let i=Object.keys(e);this.sortKeys&&i.sort();let s=this.ignoreUndefined?this.countWithoutUndefined(e,i):i.length;if(s<16)this.writeU8(128+s);else if(s<65536)this.writeU8(222),this.writeU16(s);else if(s<0x100000000)this.writeU8(223),this.writeU32(s);else throw Error(`Too large map object: ${s}`);for(let s of i){let i=e[s];this.ignoreUndefined&&void 0===i||(this.encodeString(s),this.doEncode(i,t+1))}}encodeExtension(e){if("function"==typeof e.data){let t=e.data(this.pos+6),i=t.length;if(i>=0x100000000)throw Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(t);return}let t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<0x100000000)this.writeU8(201),this.writeU32(t);else throw Error(`Too large extension object: ${t}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){let t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),l(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),c(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}}function S(e,t){return new U(t).encodeSharedRef(e)}e.s(["Encoder",()=>U],59301),e.s(["encode",()=>S],25053)},60673,e=>{"use strict";let t=(0,e.i(67784).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],60673)},85027,15430,65287,e=>{"use strict";var t=e.i(67784);let i=(0,t.default)("binary",[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]]);e.s(["Binary",()=>i],85027);let s=(0,t.default)("file-braces",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);e.s(["FileJson",()=>s],15430);let r=(0,t.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);e.s(["Hash",()=>r],65287)},72617,e=>{"use strict";var t=e.i(75822),i=e.i(6642),s=e.i(85027),r=e.i(15430),n=e.i(65287),o=e.i(60673),a=e.i(25053),h=e.i(7529);function l(e){return e<1024?`${e} B`:e<1048576?`${(e/1024).toFixed(2)} KB`:e<0x40000000?`${(e/1048576).toFixed(2)} MB`:`${(e/0x40000000).toFixed(2)} GB`}function c(e){if(navigator.clipboard)navigator.clipboard.writeText(e);else{let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}function d(){let[e,d]=(0,i.useState)('{\n  "message": "Hello Pack Tester"\n}'),[f,u]=(0,i.useState)(""),{hexOutput:p,encodeError:x,jsonSize:g,hexSize:y}=(0,i.useMemo)(()=>{if(!e.trim())return{hexOutput:"",encodeError:null,jsonSize:0,hexSize:0};try{let t=JSON.parse(e),i=(0,a.encode)(t);return{hexOutput:Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join(" "),encodeError:null,jsonSize:new Blob([e]).size,hexSize:i.length}}catch(t){return{hexOutput:"",encodeError:"JSON Error: "+(t instanceof Error?t.message:String(t)),jsonSize:new Blob([e]).size,hexSize:0}}},[e]),{jsonOutput:w,decodeError:m}=(0,i.useMemo)(()=>{if(!f.trim())return{jsonOutput:"",decodeError:null};try{let e=function(e){let t=e.replace(/\s+/g,"");if(!/^[0-9a-fA-F]*$/.test(t)||t.length%2!=0)return null;let i=new Uint8Array(t.length/2);for(let e=0;e<t.length;e+=2)i[e/2]=parseInt(t.slice(e,e+2),16);return i}(f);if(!e)return{jsonOutput:"",decodeError:"Invalid Hex format"};let t=(0,h.decode)(e);return{jsonOutput:JSON.stringify(t,null,2),decodeError:null}}catch(e){return{jsonOutput:"",decodeError:"Decode Error: "+(e instanceof Error?e.message:String(e))}}},[f]),b=g>0?(g-y)/g*100:0,U=f?f.replace(/\s+/g,"").length/2:0,S=w?new Blob([w]).size:0,B=U>0?(U-S)/U*100:0,v=x||m;return(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-8",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsx)("h1",{className:"text-3xl  leading-tight tracking-tight font-extralight color-primary",children:"Convertor"})}),v&&(0,t.jsx)("div",{className:"p-4 bg-rose-50 border border-rose-100 rounded-xl text-rose-700 text-sm font-medium animate-in fade-in slide-in-from-top-2 text-center",children:v}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,t.jsxs)("div",{className:"flex flex-col rounded-2xl bg-white/80 backdrop-blur-xl border border-black/5 ring-1 ring-black/5 shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-5 py-3 border-b border-black/5 bg-zinc-50/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(r.FileJson,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("strong",{className:"text-sm font-semibold text-zinc-800",children:"JSON to MsgPack Hex"})]}),(0,t.jsx)("div",{className:"flex gap-2 items-center text-xs font-mono text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:(0,t.jsxs)("span",{children:["JSON: ",l(g)]})})]}),(0,t.jsxs)("div",{className:"p-4 flex flex-col gap-4",children:[(0,t.jsx)("textarea",{className:"w-full h-48 bg-zinc-50/50 border border-black/5 rounded-xl px-4 py-4 text-[13px] font-mono text-zinc-800 shadow-inner focus:outline-none focus:ring-4 focus:ring-primary/10 focus:border-primary/20 transition-all resize-none custom-scrollbar",value:e,onChange:e=>d(e.target.value),placeholder:'{ "key": "value" }'}),(0,t.jsxs)("div",{className:"flex gap-4 text-xs text-zinc-500 font-mono",children:[(0,t.jsxs)("span",{children:["Hex size: ",l(y)]}),(0,t.jsx)("span",{className:b>0?"text-green-600":b<0?"text-rose-600":"",children:g>0?`Size change: ${b>0?"-":""}${Math.abs(b).toFixed(1)}%`:""})]}),p&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-zinc-500",children:[(0,t.jsx)(n.Hash,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"text-[11px] font-medium uppercase tracking-wider",children:"Hex Output"}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)("button",{className:"ml-2 px-2 py-0.5 rounded bg-primary/10 text-primary text-xs font-bold hover:bg-primary/20 transition flex items-center gap-1",onClick:()=>c(p),title:"Copy Hex","aria-label":"Copy Hex",children:(0,t.jsx)(o.Copy,{className:"w-4 h-4 color-primary"})})]}),(0,t.jsx)("pre",{className:"bg-zinc-900/5 border border-black/5 rounded-xl px-4 py-3 text-[12px] font-mono text-zinc-700 max-h-32 overflow-auto whitespace-pre-wrap leading-relaxed",children:p})]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col rounded-2xl bg-white/80 backdrop-blur-xl border border-black/5 ring-1 ring-black/5 shadow-sm overflow-hidden",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-5 py-3 border-b border-black/5 bg-zinc-50/50",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(s.Binary,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("strong",{className:"text-sm font-semibold text-zinc-800",children:"MsgPack Hex to JSON"})]}),(0,t.jsx)("div",{className:"flex gap-2 items-center text-xs font-mono text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:(0,t.jsxs)("span",{children:["Hex: ",l(U)]})})]}),(0,t.jsxs)("div",{className:"p-4 flex flex-col gap-4",children:[(0,t.jsx)("textarea",{className:"w-full h-48 bg-zinc-50/50 border border-black/5 rounded-xl px-4 py-4 text-[13px] font-mono text-zinc-800 shadow-inner focus:outline-none focus:ring-4 focus:ring-primary/10 focus:border-primary/20 transition-all resize-none custom-scrollbar",value:f,onChange:e=>u(e.target.value),placeholder:"Paste hex here (e.g. 81 a5 68 65 6c 6c 6f a5 77 6f 72 6c 64)"}),(0,t.jsx)("div",{className:"flex gap-4 text-xs text-zinc-500 font-mono",children:(0,t.jsx)("span",{className:B>0?"text-green-600":B<0?"text-rose-600":"",children:U>0?`Size change: ${B>0?"-":""}${Math.abs(B).toFixed(1)}%`:""})}),w&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-zinc-500",children:[(0,t.jsx)(r.FileJson,{className:"w-3.5 h-3.5"}),(0,t.jsx)("span",{className:"text-[11px] font-medium uppercase tracking-wider",children:"Decoded JSON"}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)("button",{className:"ml-2 px-2 py-0.5 rounded bg-primary/10 text-primary text-xs font-bold hover:bg-primary/20 transition flex items-center gap-1",onClick:()=>c(w),title:"Copy JSON","aria-label":"Copy JSON",children:(0,t.jsx)(o.Copy,{className:"w-4 h-4 color-primary"})})]}),(0,t.jsx)("pre",{className:"bg-zinc-900/5 border border-black/5 rounded-xl px-4 py-3 text-[12px] font-mono text-zinc-700 max-h-32 overflow-auto whitespace-pre-wrap leading-relaxed",children:w})]})]})]})]})]})}e.s(["default",()=>d])}]);