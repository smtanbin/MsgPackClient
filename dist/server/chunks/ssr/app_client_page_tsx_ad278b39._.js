module.exports=[77010,a=>{"use strict";var b=a.i(24012),c=a.i(35124),d=a.i(53659);let e=(0,d.default)("minimize-2",[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]]),f=(0,d.default)("maximize-2",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]]);var g=a.i(51637);let h=(0,d.default)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]]);var i=a.i(88659),j=a.i(41203),k=a.i(77004);let l=[{key:"Content-Type",description:"Media type of the request body.",example:"application/msgpack"},{key:"Accept",description:"Media types acceptable for response.",example:"application/msgpack, application/json"},{key:"Authorization",description:"Auth header (Bearer, Basic, etc.).",example:"Bearer <token>"},{key:"X-API-Key",description:"API key header.",example:"<your-api-key>"},{key:"User-Agent",description:"Identifies the client.",example:"pack-tester/1.0"},{key:"X-Request-Id",description:"Correlation ID for tracing.",example:"550e8400-e29b-41d4-a716-446655440000"},{key:"Accept-Language",description:"Preferred language for response.",example:"en-US"}];function m({customHeaders:a,headerVars:d,onAdd:m,onUpdate:n,onRemove:o}){let[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(null),t=a=>{let b=a.trim(),c=d.some(a=>a.key.trim().toLowerCase()===b.toLowerCase()&&a.value&&a.value.trim());return console.log("Checking variable:",b,"exists:",c,"available vars:",d),c};(0,c.useEffect)(()=>{a.length>0||(m(),n(0,{key:"Content-Type",value:"application/msgpack"}),m(),n(1,{key:"Accept",value:"application/msgpack, application/json"}))},[]);let u=a.map(a=>a.key.toLowerCase()),v=l.filter(a=>!u.includes(a.key.toLowerCase())),w=a=>l.find(b=>b.key===a);return(0,b.jsxs)("div",{className:`flex flex-col rounded-2xl transition-all duration-300 shadow-sm border ${p?"bg-primary-600 border-none":" border-white/80 backdrop-blur-xl border-black/5 ring-1 ring-black/5"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-5 py-3 transition-colors",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-1.5 rounded-lg ",children:(0,b.jsx)(h,{className:`w-4 h-4 ${p?"text-white":"text-primary"}`})}),(0,b.jsx)("strong",{className:`text-[15px] font-semibold tracking-tight ${p?"text-white":"text-zinc-800"}`,children:"Request Headers"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[!p&&(0,b.jsxs)("div",{className:"relative group bg-primary-200 rounded-lg",children:[(0,b.jsx)(g.Plus,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-primary pointer-events-none transition-colors"}),(0,b.jsxs)("select",{value:"",onChange:b=>{let c=b.target.value;if(!c)return;let d=l.find(a=>a.key===c);m(),n(a.length,{key:c,value:d?.example||""})},className:"pl-8 pr-3 py-1.5 text-xs bg-transparent hover:bg-primary-300 border-none rounded-lg appearance-none cursor-pointer font-medium text-primary transition-all",children:[(0,b.jsx)("option",{value:"",children:"Add Header"}),v.map(a=>(0,b.jsx)("option",{value:a.key,children:a.key},a.key))]})]}),(0,b.jsx)("button",{onClick:()=>q(!p),className:`flex items-center justify-center w-8 h-8 rounded-full transition-all active:scale-90 ${p?"bg-white/20 text-white hover:bg-white/30":"bg-primary-100 text-primary hover:bg-primary-200"}`,title:p?"Expand":"Minimize",children:p?(0,b.jsx)(f,{className:"w-4 h-4"}):(0,b.jsx)(e,{className:"w-4 h-4"})})]})]}),!p&&(0,b.jsxs)("div",{className:"flex flex-col gap-2 p-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[a.map((c,d)=>{w(c.key);let e=0!==d||c.value?c.value:"application/msgpack";return(0,b.jsxs)("div",{className:"flex items-start gap-2 group p-2 hover:bg-zinc-50 rounded-xl transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1 flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[(0,b.jsx)("div",{className:"relative w-full sm:flex-1",children:(0,b.jsx)("input",{type:"text",value:c.key,disabled:r!==d,onChange:a=>n(d,{key:a.target.value,value:c.value}),className:`w-full text-[13px] px-3 py-2 bg-white border border-zinc-300 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/20 transition-all font-medium text-zinc-700 ${r===d?"cursor-text":"cursor-not-allowed opacity-60"}`,placeholder:"Header Key"})}),(0,b.jsx)("div",{className:"w-full sm:flex-[2] relative",children:((c,d)=>{let e;w(a[d]?.key||"");let f=/\{\{\s*([^}]+?)\s*\}\}/g,g=[],h=0;for(;null!==(e=f.exec(c));){e.index>h&&g.push(c.slice(h,e.index));let a=e[1].trim();t(a)?g.push((0,b.jsx)("span",{contentEditable:!1,className:"inline-flex items-center gap-1 px-1 py-0.5 bg-blue-100 text-blue-700 rounded text-[11px] font-mono pointer-events-none",children:`{{${a}}}`},e.index)):g.push(e[0]),h=e.index+e[0].length}return h<c.length&&g.push(c.slice(h)),(0,b.jsxs)("div",{className:"flex-1 flex items-center gap-2",children:[(0,b.jsx)("div",{contentEditable:r===d,suppressContentEditableWarning:!0,"data-header-index":d,onBlur:b=>{let c=b.currentTarget.textContent||"";n(d,{key:a[d]?.key||"",value:c}),s(null)},className:`flex-1 text-[13px] px-3 py-2 bg-white border border-black/5 rounded-lg focus:border-primary focus:ring-2 focus:ring-primary/10 transition-all font-mono text-zinc-600 min-h-[32px] flex flex-wrap gap-1 items-center outline-none ${r===d?"":"opacity-60 cursor-not-allowed"}`,children:r===d?g:c},`header-value-${d}-${r===d?"edit":"view"}`),(0,b.jsx)("button",{onClick:()=>{r===d?s(null):(s(d),setTimeout(()=>{let a=document.querySelector(`[data-header-index="${d}"]`);a&&a.focus()},0))},className:"p-1 bg-transparent text-green-600 hover:text-green-700 rounded-lg transition-all",title:r===d?"Save":"Edit header value",children:r===d?(0,b.jsx)(j.Check,{className:"w-4 h-4"}):(0,b.jsx)(k.Edit,{className:"w-4 h-4"})})]})})(e,d)})]}),(0,b.jsx)("div",{onClick:()=>o(d),className:"p-2 bg-rose-100 text-rose-600 hover:bg-rose-200 rounded-lg transition-all cursor-pointer flex-shrink-0 active:scale-95",title:"Remove header",children:(0,b.jsx)(i.Trash2,{className:"w-4 h-4"})})]},d)}),0===a.length&&(0,b.jsx)("div",{className:"flex flex-col items-center justify-center py-8 rounded-xl border border-dashed border-zinc-200 bg-zinc-50/30",children:(0,b.jsx)("p",{className:"text-zinc-600 text-sm font-medium",children:"No headers added"})})]})]})}var n=a.i(8881);let o=(0,d.default)("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]),p=(0,d.default)("braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);var q=a.i(62336),r=a.i(91337);function s(a){return a<1024?`${a} B`:a<1048576?`${(a/1024).toFixed(2)} KB`:a<0x40000000?`${(a/1048576).toFixed(2)} MB`:`${(a/0x40000000).toFixed(2)} GB`}function t({requestText:a,onChange:c}){let d="",e=0,f=0;try{if(a.trim()){let b=JSON.parse(a),c=(0,n.encode)(b);d=Array.from(c).map(a=>a.toString(16).padStart(2,"0")).join(" "),e=c.length,f=new Blob([a]).size}}catch{}let g=f>0?(f-e)/f*100:0;return(0,b.jsxs)("div",{className:"flex flex-col rounded-2xl bg-white/80 backdrop-blur-xl border border-black/5 ring-1 ring-black/5 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-5 py-3 border-b border-black/5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-1.5 rounded-lg bg-primary/10",children:(0,b.jsx)(o,{className:"w-4 h-4 text-primary"})}),(0,b.jsx)("strong",{className:"text-[15px] font-semibold tracking-tight text-zinc-800",children:"Request Body"})]}),(0,b.jsxs)("button",{onClick:()=>{try{let b=JSON.parse(a);c(JSON.stringify(b,null,2))}catch{}},className:"flex items-center gap-1.5 px-3 py-1 bg-zinc-100 hover:bg-zinc-200 text-zinc-600 rounded-lg text-xs font-semibold transition-all active:scale-95",children:[(0,b.jsx)(p,{className:"w-3.5 h-3.5"}),"Format JSON"]})]}),(0,b.jsxs)("div",{className:"flex flex-col flex-1 p-4 gap-4 animate-in fade-in slide-in-from-top-2 duration-300",children:[(0,b.jsx)("div",{className:"flex-1 flex flex-col",children:(0,b.jsx)("textarea",{className:"flex-1 min-h-[220px] w-full bg-zinc-50/50 border border-black/5 rounded-xl px-4 py-4 text-[13px] font-mono text-zinc-800 shadow-inner focus:outline-none focus:ring-4 focus:ring-primary/10 focus:border-primary/20 focus:shadow-lg focus:shadow-primary/20 transition-all custom-scrollbar",value:a,onChange:a=>c(a.target.value),placeholder:'{ "key": "value" }'})}),d&&(0,b.jsxs)("div",{className:"space-y-3 pt-2 border-t border-black/5",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{className:"flex items-center gap-2 text-zinc-500",children:[(0,b.jsx)(q.Binary,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{className:"text-[12px] font-medium uppercase tracking-wider",children:"Encoded msgpack (hex)"}),(0,b.jsx)("span",{className:"text-[10px] bg-zinc-100 px-1.5 py-0.5 rounded text-zinc-600 font-mono",children:s(e)}),(0,b.jsx)("span",{className:"text-[10px] bg-zinc-100 px-1.5 py-0.5 rounded text-zinc-600 font-mono",children:s(f)}),(0,b.jsx)("span",{className:g>0?"text-green-600":g<0?"text-rose-600":"",children:f>0?`Size change: ${g>0?"-":""}${Math.abs(g).toFixed(1)}%`:""}),(0,b.jsxs)("button",{className:"ml-2 px-2 py-0.5 rounded bg-primary/10 text-primary text-xs font-bold hover:bg-primary/20 transition flex items-center gap-1",onClick:()=>(function(a){if(navigator.clipboard)navigator.clipboard.writeText(a);else{let b=document.createElement("textarea");b.value=a,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b)}})(d),title:"Copy Hex",children:[(0,b.jsx)(r.Copy,{className:"w-3 h-3"})," Copy"]})]})}),(0,b.jsx)("pre",{className:"bg-zinc-900/5 border border-black/5 rounded-xl px-4 py-3 text-[12px] font-mono text-zinc-700 max-h-32 overflow-auto whitespace-pre-wrap leading-relaxed shadow-inner",children:d})]})]})]})}var u=a.i(55736);function v(a,b){return a.replace(/\{\{([^}]+)\}\}/g,(a,c)=>{let d=b.find(a=>a.key===String(c).trim());return d?d.value:""})}function w({method:a,url:d,baseUrl:e,headers:f,requestText:g,headerVars:h}){let i=a=>{let b=a.trim();return h.some(a=>a.key===b)},j=(0,c.useMemo)(()=>{let b=v(e&&!d.startsWith("http")?`${e}${d.startsWith("/")?d:`/${d}`}`:d,h),c=`curl -X ${a.toUpperCase()}`;if(f.filter(a=>a.key&&a.value).forEach(a=>{let b=v(a.value,h);c+=` \\
  -H "${a.key}: ${b}"`}),c+=` \\
  "${b}"`,g.trim())try{let a=JSON.parse(g),b=JSON.stringify(a,null,2);c+=` \\
  -d '${b}'`}catch(a){c+=` \\
  -d '${g}'`}return c},[a,d,e,f,g,h]);return(0,b.jsxs)("div",{className:"flex flex-col rounded-2xl bg-white/80 backdrop-blur-xl border border-black/5 ring-1 ring-black/5 shadow-sm",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-5 py-3 border-b border-black/5",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-1.5 rounded-lg bg-primary/10",children:(0,b.jsx)(u.Code,{className:"w-4 h-4 text-primary"})}),(0,b.jsx)("strong",{className:"text-[15px] font-semibold tracking-tight text-zinc-800",children:"Request Preview & cURL"})]}),(0,b.jsxs)("button",{onClick:()=>(function(a){if(navigator.clipboard)navigator.clipboard.writeText(a);else{let b=document.createElement("textarea");b.value=a,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b)}})(j),className:"flex items-center gap-1.5 px-3 py-1 bg-zinc-100 hover:bg-zinc-200 text-zinc-600 rounded-lg text-xs font-semibold transition-all active:scale-95",title:"Copy curl command",children:[(0,b.jsx)(r.Copy,{className:"w-3.5 h-3.5"}),"Copy cURL"]})]}),(0,b.jsxs)("div",{className:"p-4 space-y-4",children:[f.filter(a=>a.key&&a.value).length>0&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-zinc-700",children:"Headers"}),(0,b.jsx)("div",{className:"space-y-1",children:f.filter(a=>a.key&&a.value).map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,b.jsxs)("span",{className:"font-medium text-zinc-600 min-w-0 flex-shrink-0",children:[a.key,":"]}),(0,b.jsx)("span",{className:"font-mono text-zinc-800 flex-1 min-w-0 break-all",children:(a=>{let c,d=/\{\{([^}]+)\}\}/g,e=[],f=0;for(;null!==(c=d.exec(a));){c.index>f&&e.push(a.slice(f,c.index));let d=c[1];i(d)?e.push((0,b.jsx)("span",{className:"inline-flex items-center gap-1 bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs font-medium mx-1",children:(0,b.jsx)("code",{children:`{{${d}}}`})},`var-${c.index}`)):e.push(c[0]),f=c.index+c[0].length}return f<a.length&&e.push(a.slice(f)),e.length>0?e:a})(a.value)})]},c))})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("h4",{className:"text-sm font-semibold text-zinc-700",children:"cURL Command"}),(0,b.jsx)("div",{className:"bg-zinc-900/5 border border-black/5 rounded-xl p-4",children:(0,b.jsx)("pre",{className:"text-[13px] font-mono text-zinc-800 whitespace-pre-wrap overflow-x-auto",children:j})})]}),(0,b.jsxs)("div",{className:"text-xs text-zinc-500",children:["Variables like ",(0,b.jsx)("code",{className:"bg-blue-100 text-blue-800 px-1 rounded",children:"{{key}}"})," will be substituted with their values when sending the request."]})]})]})}let x=(0,d.default)("send-horizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]);function y({method:a,url:d,baseUrl:e,loading:f,onMethodChange:g,onUrlChange:h,onSend:i}){let[j,k]=(0,c.useState)(!1),l=(0,c.useRef)(null),m=(0,c.useRef)(null);(0,c.useEffect)(()=>{let a=a=>{if(!j)return;let b=a.target;l.current?.contains(b)||m.current?.contains(b)||k(!1)};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[j]);let n={GET:"bg-green-500 text-white",POST:"bg-blue-500 text-white",PUT:"bg-orange-500 text-white",DELETE:"bg-red-500 text-white",HEAD:"bg-purple-500 text-white"};return(0,b.jsx)("div",{className:"rounded-2xl bg-white/80 backdrop-blur border border-gray-200 p-3 relative z-10",children:(0,b.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 sm:gap-3",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{ref:l,onClick:()=>k(a=>!a),className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium focus:ring-2 focus:ring-blue-500 focus:shadow-lg focus:shadow-blue-500/20 text-zinc-800",children:[(0,b.jsx)("span",{className:`w-2.5 h-2.5 rounded-full ${n[a]?.split(" ")[0]||"bg-gray-400"}`}),a,(0,b.jsx)("svg",{className:`w-4 h-4 transition-transform ${j?"rotate-180":""}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),j&&(0,b.jsx)("ul",{ref:m,className:"absolute left-0 mt-2 w-44 bg-white border border-gray-200 rounded-xl shadow-xl z-50 overflow-hidden",children:["GET","POST","PUT","DELETE","HEAD"].map(c=>(0,b.jsx)("li",{children:(0,b.jsxs)("button",{onClick:()=>{g(c),k(!1)},className:`w-full px-4 py-3 text-left text-sm flex items-center gap-3 hover:bg-gray-50 ${c===a?"bg-blue-50 text-blue-700":"text-zinc-800"}`,children:[(0,b.jsx)("span",{className:`w-2.5 h-2.5 rounded-full ${n[c]?.split(" ")[0]}`}),c]})},c))})]}),(0,b.jsx)("button",{onClick:i,disabled:f,className:"ml-auto sm:hidden inline-flex items-center gap-2 px-4 py-2 bg-primary text-white rounded-lg font-semibold disabled:opacity-50",children:(0,b.jsx)(x,{className:`w-4 h-4 ${f?"animate-pulse":""}`})})]}),(0,b.jsxs)("div",{className:"flex-1 flex items-center gap-2 bg-white border border-gray-300 rounded-lg px-3 py-2",children:[(0,b.jsx)("div",{className:`px-2 py-1 text-xs font-semibold rounded ${n[a]||"bg-gray-400 text-white"}`,children:a}),e&&(0,b.jsx)("span",{className:"hidden sm:inline px-2 py-1 text-xs text-gray-500 bg-gray-100 rounded",children:e}),(0,b.jsx)("input",{value:d,onChange:a=>h(a.target.value),placeholder:e?"/users":"https://api.example.com",className:"flex-1 bg-transparent text-sm outline-none text-zinc-800 focus:ring-2 focus:ring-primary/20 focus:shadow-lg focus:shadow-primary/20"})]}),(0,b.jsxs)("button",{onClick:i,disabled:f,className:"hidden sm:inline-flex items-center gap-2 px-5 py-2 bg-primary text-white rounded-lg font-semibold disabled:opacity-50",children:[(0,b.jsx)(x,{className:`w-4 h-4 ${f?"animate-pulse":""}`}),f?"Sending":"Send"]})]})})}var z=a.i(82432),A=a.i(88075);function B(a){try{return JSON.stringify(a,null,2)}catch(a){return String(a)}}function C({statusLine:a,error:d,responseDecoded:g,responseRaw:h}){let[i,k]=(0,c.useState)(!1),[l,m]=(0,c.useState)(null),n=(a,b)=>{navigator.clipboard.writeText(a),m(b),setTimeout(()=>m(null),2e3)},o=a?a.startsWith("2")?{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-200"}:a.startsWith("4")||a.startsWith("5")?{bg:"bg-rose-50",text:"text-rose-700",border:"border-rose-200"}:{bg:"bg-amber-50",text:"text-amber-700",border:"border-amber-200"}:null;return(0,b.jsxs)("div",{className:`flex flex-col rounded-2xl transition-all duration-300 shadow-sm border ${i?"bg-primary border-primary ring-4 ring-primary/10":"bg-white/80 backdrop-blur-xl border-black/5 ring-1 ring-black/5"}`,children:[(0,b.jsxs)("div",{className:`flex items-center justify-between px-5 py-3 transition-colors ${i?"border-none":"border-b border-black/5"}`,children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:`p-1.5 rounded-lg ${i?"bg-white/20":"bg-primary/10"}`,children:(0,b.jsx)(z.FileJson,{className:`w-4 h-4 ${i?"text-white":"text-primary"}`})}),(0,b.jsx)("strong",{className:`text-[15px] font-semibold tracking-tight ${i?"text-white":"text-zinc-800"}`,children:"Response"}),a&&!i&&(0,b.jsxs)("div",{className:`flex items-center gap-1.5 px-2.5 py-1 rounded-full border ${o?.bg} ${o?.text} ${o?.border}`,children:[(0,b.jsx)("div",{className:`w-1.5 h-1.5 rounded-full ${o?.text.replace("text","bg")}`}),(0,b.jsx)("span",{className:"text-[11px] font-bold uppercase tracking-wider",children:a})]})]}),(0,b.jsx)("button",{onClick:()=>k(!i),className:`flex items-center justify-center w-8 h-8 rounded-full transition-all active:scale-90 ${i?"bg-white text-primary hover:bg-white/90 shadow-lg":"bg-zinc-100 text-zinc-500 hover:bg-zinc-200"}`,title:i?"Expand":"Minimize",children:i?(0,b.jsx)(f,{className:"w-4 h-4"}):(0,b.jsx)(e,{className:"w-4 h-4"})})]}),!i&&(0,b.jsxs)("div",{className:"flex flex-col gap-5 p-5 animate-in fade-in slide-in-from-top-2 duration-300",children:[d&&(0,b.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-rose-50 border border-rose-100 rounded-xl text-rose-700",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-500 mt-1.5 shrink-0"}),(0,b.jsx)("p",{className:"text-[13px] font-medium leading-relaxed",children:d})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-zinc-500",children:[(0,b.jsx)(z.FileJson,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{className:"text-[12px] font-medium",children:"Decoded Content"})]}),null!==g&&(0,b.jsx)("button",{onClick:()=>n(B(g),"json"),className:"p-1.5 hover:bg-zinc-100 rounded-md transition-colors text-zinc-600 hover:text-zinc-800",children:"json"===l?(0,b.jsx)(j.Check,{className:"w-3.5 h-3.5 text-emerald-500"}):(0,b.jsx)(r.Copy,{className:"w-3.5 h-3.5"})})]}),null!==g?(0,b.jsx)("div",{className:"relative group",children:(0,b.jsx)("pre",{className:"bg-zinc-50/50 border border-black/5 rounded-xl px-4 py-4 text-[13px] font-mono text-zinc-800 max-h-[400px] overflow-auto shadow-inner custom-scrollbar selection:bg-primary/20",children:B(g)})}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4 rounded-xl border border-dashed border-zinc-200 bg-zinc-50/30",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-zinc-100 flex items-center justify-center mb-3",children:(0,b.jsx)(z.FileJson,{className:"w-5 h-5 text-zinc-300"})}),(0,b.jsx)("p",{className:"text-zinc-600 text-sm font-medium",children:"Waiting for response..."})]})]}),h&&(0,b.jsxs)("div",{className:"space-y-3 pt-2 border-t border-black/5",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-zinc-500",children:[(0,b.jsx)(A.Hash,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{className:"text-[12px] font-medium uppercase tracking-wider",children:"Raw Hex Output"}),(0,b.jsxs)("span",{className:"text-[10px] bg-zinc-100 px-1.5 py-0.5 rounded text-zinc-600 font-mono",children:[h.split(" ").length," B"]})]}),(0,b.jsx)("button",{onClick:()=>n(h,"hex"),className:"p-1.5 hover:bg-zinc-100 rounded-md transition-colors text-zinc-600 hover:text-zinc-800",children:"hex"===l?(0,b.jsx)(j.Check,{className:"w-3.5 h-3.5 text-emerald-500"}):(0,b.jsx)(r.Copy,{className:"w-3.5 h-3.5"})})]}),(0,b.jsx)("pre",{className:"bg-zinc-900/5 border border-black/5 rounded-xl px-4 py-3 text-[12px] font-mono text-zinc-700 max-h-32 overflow-auto whitespace-pre-wrap leading-relaxed",children:h})]})]})]})}var D=a.i(18455),E=a.i(6319);function F(a,b){return a.replace(/\{\{([^}]+)\}\}/g,(a,c)=>{let d=b.find(a=>a.key.toLowerCase()===String(c).trim().toLowerCase());return d?d.value:""})}function G(){let d=(0,E.useRouter)(),[e,f]=(0,c.useState)(!1),[g,h]=(0,c.useState)("POST"),[j,k]=(0,c.useState)(""),[l,n]=(0,c.useState)(void 0),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)({statusLine:"",error:null,responseDecoded:null,responseRaw:""}),[s,u]=(0,c.useState)([{name:"Endpoint 1"}]),[v,x]=(0,c.useState)(0),[z,A]=(0,c.useState)(["POST"]),[B,G]=(0,c.useState)([""]),[H,I]=(0,c.useState)([""]),[J,K]=(0,c.useState)([[]]),[L,M]=(0,c.useState)([""]),[N,O]=(0,c.useState)([]);(0,c.useEffect)(()=>{(async()=>{try{let a={method:await (0,D.getItem)("mpc-method"),url:await (0,D.getItem)("mpc-url"),endpoints:JSON.parse(await (0,D.getItem)("mpc-endpoints")||"null"),activeIdx:Number(await (0,D.getItem)("mpc-active-ep")||"0"),methods:JSON.parse(await (0,D.getItem)("mpc-methods-list")||"null"),urls:JSON.parse(await (0,D.getItem)("mpc-urls-list")||"null"),reqs:JSON.parse(await (0,D.getItem)("mpc-request-texts")||"null"),headers:JSON.parse(await (0,D.getItem)("mpc-headers-list")||"null")};a.method&&h(a.method),a.url&&k(a.url),a.endpoints&&u(a.endpoints),void 0!==a.activeIdx&&x(a.activeIdx),a.methods&&A(a.methods),a.urls&&G(a.urls),a.reqs&&I(a.reqs),a.headers&&K(a.headers)}catch(a){console.error("Failed to load state from database:",a)}f(!0);let a=a=>{n(a.detail||void 0)};window.addEventListener("mpc:baseUrl",a);let b=a=>{O(a.detail||[])};return window.addEventListener("mpc:headerVars",b),()=>{window.removeEventListener("mpc:baseUrl",a),window.removeEventListener("mpc:headerVars",b)}})()},[]),(0,c.useEffect)(()=>{e&&(async()=>{try{await (0,D.setItem)("mpc-method",g),await (0,D.setItem)("mpc-url",j),await (0,D.setItem)("mpc-endpoints",JSON.stringify(s)),await (0,D.setItem)("mpc-active-ep",String(v)),await (0,D.setItem)("mpc-methods-list",JSON.stringify(z)),await (0,D.setItem)("mpc-urls-list",JSON.stringify(B)),await (0,D.setItem)("mpc-request-texts",JSON.stringify(H)),await (0,D.setItem)("mpc-headers-list",JSON.stringify(J))}catch(a){console.error("Failed to save state to database:",a)}})()},[e,g,j,s,v,z,B,H,J]);let P=a=>{x(a),h(z[a]||"POST"),k(B[a]||"")},Q=()=>{if(s.length>=9)return;let a=s.length;u([...s,{name:`Endpoint ${a+1}`}]),A([...z,"POST"]),G([...B,""]),I([...H,""]),K([...J,[]]),M([...L,""]),x(a),h("POST"),k("")},R=async()=>{p(!0),r({statusLine:"",error:null,responseDecoded:null,responseRaw:""});try{let b,c=J[v]||[],d=H[v]||"",e=l&&!j.startsWith("http")?`${l}${j.startsWith("/")?j:`/${j}`}`:j,f=F(e,N);if(d.trim()){let c=JSON.parse(d),{encode:e}=await a.A(91174),f=e(c);b=f.buffer.slice(f.byteOffset,f.byteOffset+f.byteLength)}let h={};c.forEach(a=>{a.key&&a.value&&(h[a.key]=F(a.value,N))});let i=await fetch("/api/proxy",{method:g,headers:{"x-target-url":f,"x-original-method":g,"x-forward-headers":JSON.stringify(h),...b&&{"Content-Type":"application/octet-stream"}},body:b}),k=await i.arrayBuffer(),{decode:m}=await a.A(91174),n=null,o="";if(k.byteLength>0)try{let a=new Uint8Array(k);n=m(a),o=Array.from(a).map(a=>a.toString(16).padStart(2,"0")).join(" ")}catch(b){let a=new Uint8Array(k);o=Array.from(a).map(a=>a.toString(16).padStart(2,"0")).join(" ")}r({statusLine:`${i.status} ${i.statusText}`,error:null,responseDecoded:n,responseRaw:o})}catch(a){r({statusLine:"",error:a instanceof Error?a.message:"Request failed",responseDecoded:null,responseRaw:""})}finally{p(!1)}},S=()=>{d.push("/env")};return e?(0,b.jsx)("main",{children:(0,b.jsx)("div",{className:" p-1 overflow-hidden",children:(0,b.jsxs)("div",{className:"bg-primary-50 rounded-lg border border-black/10 px-4 py-3 overflow-hidden",children:[(0,b.jsxs)("div",{role:"tablist","aria-label":"Endpoints",className:"hidden md:flex gap-2 items-center overflow-x-auto",children:[s.map((a,c)=>{let d=v===c;return(0,b.jsx)("div",{className:"relative",children:(0,b.jsx)("div",{className:"inline-flex items-center",children:(0,b.jsxs)("div",{id:`endpoint-tab-${c}`,role:"tab","aria-selected":d,"aria-controls":`endpoint-panel-${c}`,tabIndex:d?0:-1,className:`inline-flex items-center gap-2 px-4 py-1.5 rounded-full text-[13px] font-medium transition cursor-pointer group ${d?"text-white shadow":"bg-white border border-gray-200 text-zinc-700 hover:bg-gray-50"}`,onClick:()=>P(c),onDoubleClick:()=>{let b=prompt("Rename endpoint",a.name||`Endpoint ${c+1}`);b&&u(a=>a.map((a,d)=>d===c?{...a,name:b}:a))},style:d?{background:"var(--color-primary)"}:void 0,children:[(0,b.jsx)("span",{className:"truncate max-w-40",children:a.name||`Endpoint ${c+1}`}),d&&s.length>1&&(0,b.jsx)("button",{type:"button","aria-label":"Delete endpoint",onClick:a=>{a.stopPropagation(),(a=>{if(1===s.length)return;let b=s.filter((b,c)=>c!==a),c=z.filter((b,c)=>c!==a),d=B.filter((b,c)=>c!==a);u(b),A(c),G(d),I(b=>b.filter((b,c)=>c!==a)),K(b=>b.filter((b,c)=>c!==a)),M(b=>b.filter((b,c)=>c!==a));let e=v>a?v-1:Math.min(b.length-1,v);x(e),h(c[e]||"POST"),k(d[e]||"")})(c)},className:"ml-1 hover:bg-white/20 p-1 rounded-full transition-colors flex items-center justify-center",title:"Delete",children:(0,b.jsx)(i.Trash2,{className:"w-3.5 h-3.5"})})]})})},c)}),(0,b.jsx)("div",{className:"flex-none",children:(0,b.jsx)("button",{className:` px-4 py-1.5 text-sm rounded-full ${s.length>=9?"text-gray-300 cursor-not-allowed bg-gray-100":"bg-accent text-white hover:bg-accent-300 shadow-sm hover:shadow-md transition-all active:scale-95"}`,onClick:Q,disabled:s.length>=9,children:"+ New Tab"})}),(0,b.jsx)("div",{className:"flex-none ml-auto",children:(0,b.jsxs)("button",{className:"h-10 px-4 text-sm rounded-full bg-black text-white hover:bg-gray-600 shadow-sm hover:shadow-md transition-all active:scale-95 flex items-center gap-2",onClick:S,children:[(0,b.jsxs)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Environment"]})})]}),(0,b.jsxs)("div",{className:"md:hidden flex gap-2 items-center",children:[(0,b.jsx)("div",{className:"flex-1",children:(0,b.jsx)("select",{value:v,onChange:a=>P(Number(a.target.value)),className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 text-zinc-800",children:s.map((a,c)=>(0,b.jsx)("option",{value:c,children:a.name||`Endpoint ${c+1}`},c))})}),(0,b.jsx)("button",{className:`px-3 py-2 text-sm rounded-full ${s.length>=9?"text-gray-300 cursor-not-allowed":"text-gray hover:text-dark bg-white border border-gray-200 hover:bg-gray-50"}`,onClick:Q,disabled:s.length>=9,children:"+"}),(0,b.jsx)("button",{className:"px-3 py-2 bg-primary text-white rounded-lg shadow-sm hover:bg-primary/90 transition-all active:scale-95",onClick:S,title:"Environment",children:(0,b.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})})]}),(0,b.jsxs)("div",{className:"mt-4 p-4 bg-white rounded-md",children:[(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)(y,{method:g,url:j,baseUrl:l,loading:o,onMethodChange:a=>{h(a),A(b=>b.map((b,c)=>c===v?a:b))},onUrlChange:a=>{k(a),G(b=>b.map((b,c)=>c===v?a:b))},onSend:R})}),s.map((a,c)=>(0,b.jsx)("div",{id:`endpoint-panel-${c}`,role:"tabpanel","aria-labelledby":`endpoint-tab-${c}`,"aria-hidden":v!==c,className:`${v===c?"block":"hidden"}`,children:v===c&&(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)("input",{type:"text",className:"w-full px-3 py-2  rounded-lg text-sm font-mono  bg-primary-50 focus:outline-none focus:ring-2 focus:ring-primary/20 focus:shadow-lg focus:shadow-primary/20 text-zinc-800",placeholder:"Add custom header (e.g. X-Custom: value)",value:L[c]||"","aria-label":"Custom header input","aria-describedby":`custom-header-desc-${c}`,onChange:a=>M(b=>b.map((b,d)=>d===c?a.target.value:b)),onKeyDown:a=>{if("Enter"===a.key&&L[c]){let[a,...b]=L[c].split(":"),d=b.join(":").trim();a&&d&&(K(b=>b.map((b,e)=>e===c?[...b,{key:a.trim(),value:d}]:b)),M(a=>a.map((a,b)=>b===c?"":a)))}}}),(()=>{let a,d=L[c]||"",e=d.indexOf(":"),f=-1!==e?d.slice(e+1).trim():"",g=/\{\{([^}]+)\}\}/g,h=[];for(;null!==(a=g.exec(f));){let b=a[1];N.some(a=>a.key===b)&&h.push(b)}return h.length>0?(0,b.jsx)("div",{className:"flex flex-wrap gap-1 mt-1",children:h.map((a,c)=>(0,b.jsx)("span",{className:"inline-flex items-center gap-1 bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs font-medium",children:(0,b.jsx)("code",{children:`{{${a}}}`})},c))}):null})()]}),(0,b.jsx)("span",{id:`custom-header-desc-${c}`,className:"sr-only",children:"Type a header as key:value and press Enter or Add"}),(0,b.jsx)("button",{className:"px-3 py-2 bg-primary text-white rounded-lg text-xs font-semibold hover:bg-primary/90 transition-all active:scale-95","aria-label":"Add custom header",onClick:()=>{if(L[c]){let[a,...b]=L[c].split(":"),d=b.join(":").trim();a&&d&&(K(b=>b.map((b,e)=>e===c?[...b,{key:a.trim(),value:d}]:b)),M(a=>a.map((a,b)=>b===c?"":a)))}},title:"Add custom header",children:"Add"})]}),(0,b.jsx)(m,{customHeaders:J[c],headerVars:N,onAdd:()=>K(a=>a.map((a,b)=>b===c?[...a,{key:"",value:""}]:a)),onUpdate:(a,b)=>K(d=>d.map((d,e)=>e===c?d.map((c,d)=>d===a?b:c):d)),onRemove:a=>K(b=>b.map((b,d)=>d===c?b.filter((b,c)=>c!==a):b))}),(0,b.jsx)(t,{requestText:H[c],onChange:a=>I(b=>b.map((b,d)=>d===c?a:b))}),(0,b.jsx)(w,{method:g,url:j,baseUrl:l,headers:J[c]||[],requestText:H[c],headerVars:N})]}),(0,b.jsx)("div",{className:"flex flex-col gap-4",children:(0,b.jsx)(C,{statusLine:q.statusLine,error:q.error,responseDecoded:q.responseDecoded,responseRaw:q.responseRaw})})]})},c))]})]})})}):null}a.s(["default",()=>G],77010)}];

//# sourceMappingURL=app_client_page_tsx_ad278b39._.js.map