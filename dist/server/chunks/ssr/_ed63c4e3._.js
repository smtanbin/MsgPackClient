module.exports=[49033,54041,a=>{"use strict";function b(a){return`${a<0?"-":""}0x${Math.abs(a).toString(16).padStart(2,"0")}`}var c=a.i(61672),d=a.i(57708),e=a.i(52286),f=a.i(4986),g=a.i(75983);let h="array",i="map_key",j="map_value",k=a=>{if("string"==typeof a||"number"==typeof a)return a;throw new g.DecodeError("The type of key must be string or number but "+typeof a)};class l{stack=[];stackHeadPosition=-1;get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(a){let b=this.getUninitializedStateFromPool();b.type=h,b.position=0,b.size=a,b.array=Array(a)}pushMapState(a){let b=this.getUninitializedStateFromPool();b.type=i,b.readCount=0,b.size=a,b.map={}}getUninitializedStateFromPool(){return this.stackHeadPosition++,this.stackHeadPosition===this.stack.length&&this.stack.push({type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null}),this.stack[this.stackHeadPosition]}release(a){if(this.stack[this.stackHeadPosition]!==a)throw Error("Invalid stack state. Released state is not on top of the stack.");a.type===h&&(a.size=0,a.array=void 0,a.position=0,a.type=void 0),(a.type===i||a.type===j)&&(a.size=0,a.map=void 0,a.readCount=0,a.type=void 0),this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}let m=new DataView(new ArrayBuffer(0)),n=new Uint8Array(m.buffer);try{m.getInt8(0)}catch(a){if(!(a instanceof RangeError))throw Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}let o=RangeError("Insufficient data"),p=new class{hit=0;miss=0;caches;maxKeyLength;maxLengthPerKey;constructor(a=16,b=16){this.maxKeyLength=a,this.maxLengthPerKey=b,this.caches=[];for(let a=0;a<this.maxKeyLength;a++)this.caches.push([])}canBeCached(a){return a>0&&a<=this.maxKeyLength}find(a,b,c){let d=this.caches[c-1];a:for(let e of d){let d=e.bytes;for(let e=0;e<c;e++)if(d[e]!==a[b+e])continue a;return e.str}return null}store(a,b){let c=this.caches[a.length-1],d={bytes:a,str:b};c.length>=this.maxLengthPerKey?c[Math.random()*c.length|0]=d:c.push(d)}decode(a,b,c){let d=this.find(a,b,c);if(null!=d)return this.hit++,d;this.miss++;let f=(0,e.utf8DecodeJs)(a,b,c),g=Uint8Array.prototype.slice.call(a,b,b+c);return this.store(g,f),f}};class q{extensionCodec;context;useBigInt64;rawStrings;maxStrLength;maxBinLength;maxArrayLength;maxMapLength;maxExtLength;keyDecoder;mapKeyConverter;totalPos=0;pos=0;view=m;bytes=n;headByte=-1;stack=new l;entered=!1;constructor(a){this.extensionCodec=a?.extensionCodec??c.ExtensionCodec.defaultCodec,this.context=a?.context,this.useBigInt64=a?.useBigInt64??!1,this.rawStrings=a?.rawStrings??!1,this.maxStrLength=a?.maxStrLength??d.UINT32_MAX,this.maxBinLength=a?.maxBinLength??d.UINT32_MAX,this.maxArrayLength=a?.maxArrayLength??d.UINT32_MAX,this.maxMapLength=a?.maxMapLength??d.UINT32_MAX,this.maxExtLength=a?.maxExtLength??d.UINT32_MAX,this.keyDecoder=a?.keyDecoder!==void 0?a.keyDecoder:p,this.mapKeyConverter=a?.mapKeyConverter??k}clone(){return new q({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=-1,this.stack.reset()}setBuffer(a){let b=(0,f.ensureUint8Array)(a);this.bytes=b,this.view=new DataView(b.buffer,b.byteOffset,b.byteLength),this.pos=0}appendBuffer(a){if(-1!==this.headByte||this.hasRemaining(1)){let b=this.bytes.subarray(this.pos),c=(0,f.ensureUint8Array)(a),d=new Uint8Array(b.length+c.length);d.set(b),d.set(c,b.length),this.setBuffer(d)}else this.setBuffer(a)}hasRemaining(a){return this.view.byteLength-this.pos>=a}createExtraByteError(a){let{view:b,pos:c}=this;return RangeError(`Extra ${b.byteLength-c} of ${b.byteLength} byte(s) found at buffer[${a}]`)}decode(a){if(this.entered)return this.clone().decode(a);try{this.entered=!0,this.reinitializeState(),this.setBuffer(a);let b=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return b}finally{this.entered=!1}}*decodeMulti(a){if(this.entered){let b=this.clone();yield*b.decodeMulti(a);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(a);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(a){if(this.entered)return this.clone().decodeAsync(a);try{let c;this.entered=!0;let d=!1;for await(let b of a){if(d)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(b);try{c=this.doDecodeSync(),d=!0}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}if(d){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return c}let{headByte:e,pos:f,totalPos:g}=this;throw RangeError(`Insufficient data in parsing ${b(e)} at ${g} (${f} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(a){return this.decodeMultiAsync(a,!0)}decodeStream(a){return this.decodeMultiAsync(a,!1)}async *decodeMultiAsync(a,b){if(this.entered){let c=this.clone();yield*c.decodeMultiAsync(a,b);return}try{this.entered=!0;let c=b,d=-1;for await(let e of a){if(b&&0===d)throw this.createExtraByteError(this.totalPos);this.appendBuffer(e),c&&(d=this.readArraySize(),c=!1,this.complete());try{for(;yield this.doDecodeSync(),0!=--d;);}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){b:for(;;){let a,c=this.readHeadByte();if(c>=224)a=c-256;else if(c<192)if(c<128)a=c;else if(c<144){let b=c-128;if(0!==b){this.pushMapState(b),this.complete();continue}a={}}else if(c<160){let b=c-144;if(0!==b){this.pushArrayState(b),this.complete();continue}a=[]}else{let b=c-160;a=this.decodeString(b,0)}else if(192===c)a=null;else if(194===c)a=!1;else if(195===c)a=!0;else if(202===c)a=this.readF32();else if(203===c)a=this.readF64();else if(204===c)a=this.readU8();else if(205===c)a=this.readU16();else if(206===c)a=this.readU32();else if(207===c)a=this.useBigInt64?this.readU64AsBigInt():this.readU64();else if(208===c)a=this.readI8();else if(209===c)a=this.readI16();else if(210===c)a=this.readI32();else if(211===c)a=this.useBigInt64?this.readI64AsBigInt():this.readI64();else if(217===c){let b=this.lookU8();a=this.decodeString(b,1)}else if(218===c){let b=this.lookU16();a=this.decodeString(b,2)}else if(219===c){let b=this.lookU32();a=this.decodeString(b,4)}else if(220===c){let b=this.readU16();if(0!==b){this.pushArrayState(b),this.complete();continue}a=[]}else if(221===c){let b=this.readU32();if(0!==b){this.pushArrayState(b),this.complete();continue}a=[]}else if(222===c){let b=this.readU16();if(0!==b){this.pushMapState(b),this.complete();continue}a={}}else if(223===c){let b=this.readU32();if(0!==b){this.pushMapState(b),this.complete();continue}a={}}else if(196===c){let b=this.lookU8();a=this.decodeBinary(b,1)}else if(197===c){let b=this.lookU16();a=this.decodeBinary(b,2)}else if(198===c){let b=this.lookU32();a=this.decodeBinary(b,4)}else if(212===c)a=this.decodeExtension(1,0);else if(213===c)a=this.decodeExtension(2,0);else if(214===c)a=this.decodeExtension(4,0);else if(215===c)a=this.decodeExtension(8,0);else if(216===c)a=this.decodeExtension(16,0);else if(199===c){let b=this.lookU8();a=this.decodeExtension(b,1)}else if(200===c){let b=this.lookU16();a=this.decodeExtension(b,2)}else if(201===c){let b=this.lookU32();a=this.decodeExtension(b,4)}else throw new g.DecodeError(`Unrecognized type byte: ${b(c)}`);this.complete();let d=this.stack;for(;d.length>0;){let b=d.top();if(b.type===h)if(b.array[b.position]=a,b.position++,b.position===b.size)a=b.array,d.release(b);else continue b;else if(b.type===i){if("__proto__"===a)throw new g.DecodeError("The key __proto__ is not allowed");b.key=this.mapKeyConverter(a),b.type=j;continue b}else if(b.map[b.key]=a,b.readCount++,b.readCount===b.size)a=b.map,d.release(b);else{b.key=null,b.type=i;continue b}}return a}}readHeadByte(){return -1===this.headByte&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=-1}readArraySize(){let a=this.readHeadByte();switch(a){case 220:return this.readU16();case 221:return this.readU32();default:if(a<160)return a-144;throw new g.DecodeError(`Unrecognized array type byte: ${b(a)}`)}}pushMapState(a){if(a>this.maxMapLength)throw new g.DecodeError(`Max length exceeded: map length (${a}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(a)}pushArrayState(a){if(a>this.maxArrayLength)throw new g.DecodeError(`Max length exceeded: array length (${a}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(a)}decodeString(a,b){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(a,b):this.decodeBinary(a,b)}decodeUtf8String(a,b){let c;if(a>this.maxStrLength)throw new g.DecodeError(`Max length exceeded: UTF-8 byte length (${a}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+b+a)throw o;let d=this.pos+b;return c=this.stateIsMapKey()&&this.keyDecoder?.canBeCached(a)?this.keyDecoder.decode(this.bytes,d,a):(0,e.utf8Decode)(this.bytes,d,a),this.pos+=b+a,c}stateIsMapKey(){return this.stack.length>0&&this.stack.top().type===i}decodeBinary(a,b){if(a>this.maxBinLength)throw new g.DecodeError(`Max length exceeded: bin length (${a}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(a+b))throw o;let c=this.pos+b,d=this.bytes.subarray(c,c+a);return this.pos+=b+a,d}decodeExtension(a,b){if(a>this.maxExtLength)throw new g.DecodeError(`Max length exceeded: ext length (${a}) > maxExtLength (${this.maxExtLength})`);let c=this.view.getInt8(this.pos+b),d=this.decodeBinary(a,b+1);return this.extensionCodec.decode(d,c,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){let a=this.view.getUint8(this.pos);return this.pos++,a}readI8(){let a=this.view.getInt8(this.pos);return this.pos++,a}readU16(){let a=this.view.getUint16(this.pos);return this.pos+=2,a}readI16(){let a=this.view.getInt16(this.pos);return this.pos+=2,a}readU32(){let a=this.view.getUint32(this.pos);return this.pos+=4,a}readI32(){let a=this.view.getInt32(this.pos);return this.pos+=4,a}readU64(){let a=(0,d.getUint64)(this.view,this.pos);return this.pos+=8,a}readI64(){let a=(0,d.getInt64)(this.view,this.pos);return this.pos+=8,a}readU64AsBigInt(){let a=this.view.getBigUint64(this.pos);return this.pos+=8,a}readI64AsBigInt(){let a=this.view.getBigInt64(this.pos);return this.pos+=8,a}readF32(){let a=this.view.getFloat32(this.pos);return this.pos+=4,a}readF64(){let a=this.view.getFloat64(this.pos);return this.pos+=8,a}}function r(a,b){return new q(b).decode(a)}function s(a,b){return new q(b).decodeMulti(a)}a.s(["Decoder",()=>q],54041),a.s(["decode",()=>r,"decodeMulti",()=>s],49033)},8881,52286,84898,75983,57708,5032,61672,4986,99605,a=>{"use strict";function b(a){let b=a.length,c=0,d=0;for(;d<b;){let e=a.charCodeAt(d++);if((0xffffff80&e)==0){c++;continue}if((0xfffff800&e)==0)c+=2;else{if(e>=55296&&e<=56319&&d<b){let b=a.charCodeAt(d);(64512&b)==56320&&(++d,e=((1023&e)<<10)+(1023&b)+65536)}(0xffff0000&e)==0?c+=3:c+=4}}return c}let c=new TextEncoder;function d(a,b,d){if(a.length>50)c.encodeInto(a,b.subarray(d));else!function(a,b,c){let d=a.length,e=c,f=0;for(;f<d;){let c=a.charCodeAt(f++);if((0xffffff80&c)==0){b[e++]=c;continue}if((0xfffff800&c)==0)b[e++]=c>>6&31|192;else{if(c>=55296&&c<=56319&&f<d){let b=a.charCodeAt(f);(64512&b)==56320&&(++f,c=((1023&c)<<10)+(1023&b)+65536)}(0xffff0000&c)==0?b[e++]=c>>12&15|224:(b[e++]=c>>18&7|240,b[e++]=c>>12&63|128),b[e++]=c>>6&63|128}b[e++]=63&c|128}}(a,b,d)}function e(a,b,c){let d=b,e=d+c,f=[],g="";for(;d<e;){let b=a[d++];if((128&b)==0)f.push(b);else if((224&b)==192){let c=63&a[d++];f.push((31&b)<<6|c)}else if((240&b)==224){let c=63&a[d++],e=63&a[d++];f.push((31&b)<<12|c<<6|e)}else if((248&b)==240){let c=(7&b)<<18|(63&a[d++])<<12|(63&a[d++])<<6|63&a[d++];c>65535&&(c-=65536,f.push(c>>>10&1023|55296),c=56320|1023&c),f.push(c)}else f.push(b);f.length>=4096&&(g+=String.fromCharCode(...f),f.length=0)}return f.length>0&&(g+=String.fromCharCode(...f)),g}let f=new TextDecoder;function g(a,b,c){let d;if(!(c>200))return e(a,b,c);return d=a.subarray(b,b+c),f.decode(d)}a.s(["utf8Count",()=>b,"utf8Decode",()=>g,"utf8DecodeJs",()=>e,"utf8Encode",()=>d],52286);class h{type;data;constructor(a,b){this.type=a,this.data=b}}a.s(["ExtData",()=>h],84898);class i extends Error{constructor(a){super(a),Object.setPrototypeOf(this,Object.create(i.prototype)),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:i.name})}}function j(a,b,c){a.setUint32(b,c/0x100000000),a.setUint32(b+4,c)}function k(a,b,c){let d=Math.floor(c/0x100000000);a.setUint32(b,d),a.setUint32(b+4,c)}function l(a,b){return 0x100000000*a.getInt32(b)+a.getUint32(b+4)}function m(a,b){return 0x100000000*a.getUint32(b)+a.getUint32(b+4)}function n({sec:a,nsec:b}){if(a>=0&&b>=0&&a<=0x3ffffffff)if(0===b&&a<=0xffffffff){let b=new Uint8Array(4);return new DataView(b.buffer).setUint32(0,a),b}else{let c=a/0x100000000,d=new Uint8Array(8),e=new DataView(d.buffer);return e.setUint32(0,b<<2|3&c),e.setUint32(4,0|a),d}{let c=new Uint8Array(12),d=new DataView(c.buffer);return d.setUint32(0,b),k(d,4,a),c}}function o(a){let b=a.getTime(),c=Math.floor(b/1e3),d=(b-1e3*c)*1e6,e=Math.floor(d/1e9);return{sec:c+e,nsec:d-1e9*e}}function p(a){return a instanceof Date?n(o(a)):null}function q(a){let b=new DataView(a.buffer,a.byteOffset,a.byteLength);switch(a.byteLength){case 4:return{sec:b.getUint32(0),nsec:0};case 8:{let a=b.getUint32(0);return{sec:(3&a)*0x100000000+b.getUint32(4),nsec:a>>>2}}case 12:return{sec:l(b,4),nsec:b.getUint32(0)};default:throw new i(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${a.length}`)}}function r(a){let b=q(a);return new Date(1e3*b.sec+b.nsec/1e6)}a.s(["DecodeError",()=>i],75983),a.s(["UINT32_MAX",0,0xffffffff,"getInt64",()=>l,"getUint64",()=>m,"setInt64",()=>k,"setUint64",()=>j],57708);let s={type:-1,encode:p,decode:r};a.s(["EXT_TIMESTAMP",0,-1,"decodeTimestampExtension",()=>r,"decodeTimestampToTimeSpec",()=>q,"encodeDateToTimeSpec",()=>o,"encodeTimeSpecToTimestamp",()=>n,"encodeTimestampExtension",()=>p,"timestampExtension",0,s],5032);class t{static defaultCodec=new t;__brand;builtInEncoders=[];builtInDecoders=[];encoders=[];decoders=[];constructor(){this.register(s)}register({type:a,encode:b,decode:c}){if(a>=0)this.encoders[a]=b,this.decoders[a]=c;else{let d=-1-a;this.builtInEncoders[d]=b,this.builtInDecoders[d]=c}}tryToEncode(a,b){for(let c=0;c<this.builtInEncoders.length;c++){let d=this.builtInEncoders[c];if(null!=d){let e=d(a,b);if(null!=e)return new h(-1-c,e)}}for(let c=0;c<this.encoders.length;c++){let d=this.encoders[c];if(null!=d){let e=d(a,b);if(null!=e)return new h(c,e)}}return a instanceof h?a:null}decode(a,b,c){let d=b<0?this.builtInDecoders[-1-b]:this.decoders[b];return d?d(a,b,c):new h(b,a)}}function u(a){return a instanceof Uint8Array?a:ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength):a instanceof ArrayBuffer||"u">typeof SharedArrayBuffer&&a instanceof SharedArrayBuffer?new Uint8Array(a):Uint8Array.from(a)}a.s(["ExtensionCodec",()=>t],61672),a.s(["ensureUint8Array",()=>u],4986);class v{extensionCodec;context;useBigInt64;maxDepth;initialBufferSize;sortKeys;forceFloat32;ignoreUndefined;forceIntegerToFloat;pos;view;bytes;entered=!1;constructor(a){this.extensionCodec=a?.extensionCodec??t.defaultCodec,this.context=a?.context,this.useBigInt64=a?.useBigInt64??!1,this.maxDepth=a?.maxDepth??100,this.initialBufferSize=a?.initialBufferSize??2048,this.sortKeys=a?.sortKeys??!1,this.forceFloat32=a?.forceFloat32??!1,this.ignoreUndefined=a?.ignoreUndefined??!1,this.forceIntegerToFloat=a?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new v({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(a){if(this.entered)return this.clone().encodeSharedRef(a);try{return this.entered=!0,this.reinitializeState(),this.doEncode(a,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(a){if(this.entered)return this.clone().encode(a);try{return this.entered=!0,this.reinitializeState(),this.doEncode(a,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(a,b){if(b>this.maxDepth)throw Error(`Too deep objects in depth ${b}`);null==a?this.encodeNil():"boolean"==typeof a?this.encodeBoolean(a):"number"==typeof a?this.forceIntegerToFloat?this.encodeNumberAsFloat(a):this.encodeNumber(a):"string"==typeof a?this.encodeString(a):this.useBigInt64&&"bigint"==typeof a?this.encodeBigInt64(a):this.encodeObject(a,b)}ensureBufferSizeToWrite(a){let b=this.pos+a;this.view.byteLength<b&&this.resizeBuffer(2*b)}resizeBuffer(a){let b=new ArrayBuffer(a),c=new Uint8Array(b),d=new DataView(b);c.set(this.bytes),this.view=d,this.bytes=c}encodeNil(){this.writeU8(192)}encodeBoolean(a){!1===a?this.writeU8(194):this.writeU8(195)}encodeNumber(a){!this.forceIntegerToFloat&&Number.isSafeInteger(a)?a>=0?a<128?this.writeU8(a):a<256?(this.writeU8(204),this.writeU8(a)):a<65536?(this.writeU8(205),this.writeU16(a)):a<0x100000000?(this.writeU8(206),this.writeU32(a)):this.useBigInt64?this.encodeNumberAsFloat(a):(this.writeU8(207),this.writeU64(a)):a>=-32?this.writeU8(224|a+32):a>=-128?(this.writeU8(208),this.writeI8(a)):a>=-32768?(this.writeU8(209),this.writeI16(a)):a>=-0x80000000?(this.writeU8(210),this.writeI32(a)):this.useBigInt64?this.encodeNumberAsFloat(a):(this.writeU8(211),this.writeI64(a)):this.encodeNumberAsFloat(a)}encodeNumberAsFloat(a){this.forceFloat32?(this.writeU8(202),this.writeF32(a)):(this.writeU8(203),this.writeF64(a))}encodeBigInt64(a){a>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(a)):(this.writeU8(211),this.writeBigInt64(a))}writeStringHeader(a){if(a<32)this.writeU8(160+a);else if(a<256)this.writeU8(217),this.writeU8(a);else if(a<65536)this.writeU8(218),this.writeU16(a);else if(a<0x100000000)this.writeU8(219),this.writeU32(a);else throw Error(`Too long string: ${a} bytes in UTF-8`)}encodeString(a){let c=b(a);this.ensureBufferSizeToWrite(5+c),this.writeStringHeader(c),d(a,this.bytes,this.pos),this.pos+=c}encodeObject(a,b){let c=this.extensionCodec.tryToEncode(a,this.context);if(null!=c)this.encodeExtension(c);else if(Array.isArray(a))this.encodeArray(a,b);else if(ArrayBuffer.isView(a))this.encodeBinary(a);else if("object"==typeof a)this.encodeMap(a,b);else throw Error(`Unrecognized object: ${Object.prototype.toString.apply(a)}`)}encodeBinary(a){let b=a.byteLength;if(b<256)this.writeU8(196),this.writeU8(b);else if(b<65536)this.writeU8(197),this.writeU16(b);else if(b<0x100000000)this.writeU8(198),this.writeU32(b);else throw Error(`Too large binary: ${b}`);let c=u(a);this.writeU8a(c)}encodeArray(a,b){let c=a.length;if(c<16)this.writeU8(144+c);else if(c<65536)this.writeU8(220),this.writeU16(c);else if(c<0x100000000)this.writeU8(221),this.writeU32(c);else throw Error(`Too large array: ${c}`);for(let c of a)this.doEncode(c,b+1)}countWithoutUndefined(a,b){let c=0;for(let d of b)void 0!==a[d]&&c++;return c}encodeMap(a,b){let c=Object.keys(a);this.sortKeys&&c.sort();let d=this.ignoreUndefined?this.countWithoutUndefined(a,c):c.length;if(d<16)this.writeU8(128+d);else if(d<65536)this.writeU8(222),this.writeU16(d);else if(d<0x100000000)this.writeU8(223),this.writeU32(d);else throw Error(`Too large map object: ${d}`);for(let d of c){let c=a[d];this.ignoreUndefined&&void 0===c||(this.encodeString(d),this.doEncode(c,b+1))}}encodeExtension(a){if("function"==typeof a.data){let b=a.data(this.pos+6),c=b.length;if(c>=0x100000000)throw Error(`Too large extension object: ${c}`);this.writeU8(201),this.writeU32(c),this.writeI8(a.type),this.writeU8a(b);return}let b=a.data.length;if(1===b)this.writeU8(212);else if(2===b)this.writeU8(213);else if(4===b)this.writeU8(214);else if(8===b)this.writeU8(215);else if(16===b)this.writeU8(216);else if(b<256)this.writeU8(199),this.writeU8(b);else if(b<65536)this.writeU8(200),this.writeU16(b);else if(b<0x100000000)this.writeU8(201),this.writeU32(b);else throw Error(`Too large extension object: ${b}`);this.writeI8(a.type),this.writeU8a(a.data)}writeU8(a){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,a),this.pos++}writeU8a(a){let b=a.length;this.ensureBufferSizeToWrite(b),this.bytes.set(a,this.pos),this.pos+=b}writeI8(a){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,a),this.pos++}writeU16(a){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,a),this.pos+=2}writeI16(a){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,a),this.pos+=2}writeU32(a){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,a),this.pos+=4}writeI32(a){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,a),this.pos+=4}writeF32(a){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,a),this.pos+=4}writeF64(a){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,a),this.pos+=8}writeU64(a){this.ensureBufferSizeToWrite(8),j(this.view,this.pos,a),this.pos+=8}writeI64(a){this.ensureBufferSizeToWrite(8),k(this.view,this.pos,a),this.pos+=8}writeBigUint64(a){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,a),this.pos+=8}writeBigInt64(a){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,a),this.pos+=8}}function w(a,b){return new v(b).encodeSharedRef(a)}a.s(["Encoder",()=>v],99605),a.s(["encode",()=>w],8881)},91337,a=>{"use strict";let b=(0,a.i(53659).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);a.s(["Copy",()=>b],91337)},62336,82432,88075,a=>{"use strict";var b=a.i(53659);let c=(0,b.default)("binary",[["rect",{x:"14",y:"14",width:"4",height:"6",rx:"2",key:"p02svl"}],["rect",{x:"6",y:"4",width:"4",height:"6",rx:"2",key:"xm4xkj"}],["path",{d:"M6 20h4",key:"1i6q5t"}],["path",{d:"M14 10h4",key:"ru81e7"}],["path",{d:"M6 14h2v6",key:"16z9wg"}],["path",{d:"M14 4h2v6",key:"1idq9u"}]]);a.s(["Binary",()=>c],62336);let d=(0,b.default)("file-braces",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);a.s(["FileJson",()=>d],82432);let e=(0,b.default)("hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);a.s(["Hash",()=>e],88075)},37168,a=>{"use strict";var b=a.i(24012),c=a.i(35124),d=a.i(62336),e=a.i(82432),f=a.i(88075),g=a.i(91337),h=a.i(8881),i=a.i(49033);function j(a){return a<1024?`${a} B`:a<1048576?`${(a/1024).toFixed(2)} KB`:a<0x40000000?`${(a/1048576).toFixed(2)} MB`:`${(a/0x40000000).toFixed(2)} GB`}function k(a){if(navigator.clipboard)navigator.clipboard.writeText(a);else{let b=document.createElement("textarea");b.value=a,document.body.appendChild(b),b.select(),document.execCommand("copy"),document.body.removeChild(b)}}function l(){let[a,l]=(0,c.useState)('{\n  "message": "Hello Pack Tester"\n}'),[m,n]=(0,c.useState)(""),{hexOutput:o,encodeError:p,jsonSize:q,hexSize:r}=(0,c.useMemo)(()=>{if(!a.trim())return{hexOutput:"",encodeError:null,jsonSize:0,hexSize:0};try{let b=JSON.parse(a),c=(0,h.encode)(b);return{hexOutput:Array.from(c).map(a=>a.toString(16).padStart(2,"0")).join(" "),encodeError:null,jsonSize:new Blob([a]).size,hexSize:c.length}}catch(b){return{hexOutput:"",encodeError:"JSON Error: "+(b instanceof Error?b.message:String(b)),jsonSize:new Blob([a]).size,hexSize:0}}},[a]),{jsonOutput:s,decodeError:t}=(0,c.useMemo)(()=>{if(!m.trim())return{jsonOutput:"",decodeError:null};try{let a=function(a){let b=a.replace(/\s+/g,"");if(!/^[0-9a-fA-F]*$/.test(b)||b.length%2!=0)return null;let c=new Uint8Array(b.length/2);for(let a=0;a<b.length;a+=2)c[a/2]=parseInt(b.slice(a,a+2),16);return c}(m);if(!a)return{jsonOutput:"",decodeError:"Invalid Hex format"};let b=(0,i.decode)(a);return{jsonOutput:JSON.stringify(b,null,2),decodeError:null}}catch(a){return{jsonOutput:"",decodeError:"Decode Error: "+(a instanceof Error?a.message:String(a))}}},[m]),u=q>0?(q-r)/q*100:0,v=m?m.replace(/\s+/g,"").length/2:0,w=s?new Blob([s]).size:0,x=v>0?(v-w)/v*100:0,y=p||t;return(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8 space-y-8",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("h1",{className:"text-3xl  leading-tight tracking-tight font-extralight color-primary",children:"Convertor"})}),y&&(0,b.jsx)("div",{className:"p-4 bg-rose-50 border border-rose-100 rounded-xl text-rose-700 text-sm font-medium animate-in fade-in slide-in-from-top-2 text-center",children:y}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,b.jsxs)("div",{className:"flex flex-col rounded-2xl bg-white/80 backdrop-blur-xl border border-black/5 ring-1 ring-black/5 shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-5 py-3 border-b border-black/5 bg-zinc-50/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(e.FileJson,{className:"w-4 h-4 text-primary"}),(0,b.jsx)("strong",{className:"text-sm font-semibold text-zinc-800",children:"JSON to MsgPack Hex"})]}),(0,b.jsx)("div",{className:"flex gap-2 items-center text-xs font-mono text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:(0,b.jsxs)("span",{children:["JSON: ",j(q)]})})]}),(0,b.jsxs)("div",{className:"p-4 flex flex-col gap-4",children:[(0,b.jsx)("textarea",{className:"w-full h-48 bg-zinc-50/50 border border-black/5 rounded-xl px-4 py-4 text-[13px] font-mono text-zinc-800 shadow-inner focus:outline-none focus:ring-4 focus:ring-primary/10 focus:border-primary/20 transition-all resize-none custom-scrollbar",value:a,onChange:a=>l(a.target.value),placeholder:'{ "key": "value" }'}),(0,b.jsxs)("div",{className:"flex gap-4 text-xs text-zinc-500 font-mono",children:[(0,b.jsxs)("span",{children:["Hex size: ",j(r)]}),(0,b.jsx)("span",{className:u>0?"text-green-600":u<0?"text-rose-600":"",children:q>0?`Size change: ${u>0?"-":""}${Math.abs(u).toFixed(1)}%`:""})]}),o&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-zinc-500",children:[(0,b.jsx)(f.Hash,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{className:"text-[11px] font-medium uppercase tracking-wider",children:"Hex Output"}),(0,b.jsx)("div",{className:"flex-1"}),(0,b.jsx)("button",{className:"ml-2 px-2 py-0.5 rounded bg-primary/10 text-primary text-xs font-bold hover:bg-primary/20 transition flex items-center gap-1",onClick:()=>k(o),title:"Copy Hex","aria-label":"Copy Hex",children:(0,b.jsx)(g.Copy,{className:"w-4 h-4 color-primary"})})]}),(0,b.jsx)("pre",{className:"bg-zinc-900/5 border border-black/5 rounded-xl px-4 py-3 text-[12px] font-mono text-zinc-700 max-h-32 overflow-auto whitespace-pre-wrap leading-relaxed",children:o})]})]})]}),(0,b.jsxs)("div",{className:"flex flex-col rounded-2xl bg-white/80 backdrop-blur-xl border border-black/5 ring-1 ring-black/5 shadow-sm overflow-hidden",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between px-5 py-3 border-b border-black/5 bg-zinc-50/50",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(d.Binary,{className:"w-4 h-4 text-primary"}),(0,b.jsx)("strong",{className:"text-sm font-semibold text-zinc-800",children:"MsgPack Hex to JSON"})]}),(0,b.jsx)("div",{className:"flex gap-2 items-center text-xs font-mono text-primary bg-primary/10 px-2 py-0.5 rounded-full",children:(0,b.jsxs)("span",{children:["Hex: ",j(v)]})})]}),(0,b.jsxs)("div",{className:"p-4 flex flex-col gap-4",children:[(0,b.jsx)("textarea",{className:"w-full h-48 bg-zinc-50/50 border border-black/5 rounded-xl px-4 py-4 text-[13px] font-mono text-zinc-800 shadow-inner focus:outline-none focus:ring-4 focus:ring-primary/10 focus:border-primary/20 transition-all resize-none custom-scrollbar",value:m,onChange:a=>n(a.target.value),placeholder:"Paste hex here (e.g. 81 a5 68 65 6c 6c 6f a5 77 6f 72 6c 64)"}),(0,b.jsx)("div",{className:"flex gap-4 text-xs text-zinc-500 font-mono",children:(0,b.jsx)("span",{className:x>0?"text-green-600":x<0?"text-rose-600":"",children:v>0?`Size change: ${x>0?"-":""}${Math.abs(x).toFixed(1)}%`:""})}),s&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-zinc-500",children:[(0,b.jsx)(e.FileJson,{className:"w-3.5 h-3.5"}),(0,b.jsx)("span",{className:"text-[11px] font-medium uppercase tracking-wider",children:"Decoded JSON"}),(0,b.jsx)("div",{className:"flex-1"}),(0,b.jsx)("button",{className:"ml-2 px-2 py-0.5 rounded bg-primary/10 text-primary text-xs font-bold hover:bg-primary/20 transition flex items-center gap-1",onClick:()=>k(s),title:"Copy JSON","aria-label":"Copy JSON",children:(0,b.jsx)(g.Copy,{className:"w-4 h-4 color-primary"})})]}),(0,b.jsx)("pre",{className:"bg-zinc-900/5 border border-black/5 rounded-xl px-4 py-3 text-[12px] font-mono text-zinc-700 max-h-32 overflow-auto whitespace-pre-wrap leading-relaxed",children:s})]})]})]})]})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=_ed63c4e3._.js.map